<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Game Launcher</title>
	<link rel="stylesheet" type="text/css" href="resetCss.css">
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="shortcut icon" type="image/png" href="favicon.png">
	<script type="text/javascript" src="data.js"></script>
	<script type="text/javascript" src="readFile.js"></script>
</head>
<body onload="startGame()">
	<div id="container">
	</div>


	<script type="text/javascript">

		// Chạy thử
		// readTextFile("test.json", function (text) {
		//     var data = JSON.parse(text);
		//     alert(data.name);
		// });

		var myGameArea = {
  			screenGame: document.createElement("div"),
  			stage: document.createElement("div"),
  			home: document.createElement('div'),
    		video: document.createElement('div'),
    		flatform: document.createElement('div'),
    		kodi: document.createElement('div'),
  			start: function() {
  			// Màn hình chơi
    		this.screenGame.setAttribute('id', 'screen-game');
    		setSizeElement(this.screenGame, data.screenGame.width, data.screenGame.height);
    		document.getElementById('container').appendChild(this.screenGame);
    		// Màn chơi
       		this.stage.setAttribute('id', 	'stage');
    		setSizeElement(this.stage, data.screenGame.width, data.screenGame.height, 0.8);
    		this.screenGame.appendChild(this.stage);
    		// Góc của con gấu
    		this.flatform.setAttribute('id', 'flatform');
    		setSizeElement(this.flatform, data.flatform.width, data.flatform.height, data.zoom * 1.5, data.flatform.url);
    		this.screenGame.appendChild(this.flatform);  
    		// Nút home trở về
    		this.home.setAttribute('id', 'home');
    		setSizeElement(this.home, data.home.width, data.home.height, data.zoom, data.home.url);
    		this.screenGame.appendChild(this.home);
    		// Nút video
    		this.video.setAttribute('id', 'video');
    		setSizeElement(this.video, data.video.width, data.video.height, data.zoom, data.video.url)
    		this.screenGame.appendChild(this.video);  
    		// Gấu kodiImage
			this.kodi.setAttribute('id', 'kodi');
    		setSizeElement(this.kodi, data.kodiImage.width, data.kodiImage.height, data.zoom, data.kodiImage.url);
    		this.kodi.style.transform = "translate(" + data.kodiImage.width * 0.06 +"px)"; 
    		this.screenGame.appendChild(this.kodi);  
  			}
		}
		function game(stage) {
			
		}
		// Thiết lập kích thước phần tử và background của vật thể
		function setSizeElement(element, width, height, zoom = 1, url_bg) {
			if(url_bg === undefined) 
				element.setAttribute("style", 'width: '+ width * zoom + 'px; height: ' + height * zoom + 'px;');
			else {
				element.setAttribute("style", 'width: '+ width * zoom + 'px; height: ' + height * zoom + 'px; background: url("' + url_bg +'"); background-size: ' + width * zoom + 'px ' + height * zoom + 'px;')
			}
		}

		function startGame(){

			data.setScreenGame();
			// Tạo màn chơi
			myGameArea.start();
			// document.getElementById('menu').innerHTML= ;
		}

</script>













<script>
		var data = {
			backgroundImage: {
				url: "views/background-color/color (10).png",
				width: 2048,
				height: 1536
			},
			screen: {
				width: window.innerWidth,
				height: document.documentElement.clientHeight
			},
			kodiImage: {
				url: "views/kodi/kodi (1).png",
				width: 1560,
				height: 408
			},
			flatform: {
				url: "views/kodi/platform.png",
				width: 208,
				height: 180
			},
			video: {
				url: "views/video/icon (1).png",
				width: 176,
				height: 176
			},
			home: {
				url: "views/home/home.png",
				width: 176,
				height: 176
			},
			screenGame: {},
			ratio: 1,
			zoom: 1,
			setScreenGame: function() {
				this.ratio = this.backgroundImage.width / this.backgroundImage.height;
				this.zoom = this.screen.height / this.backgroundImage.height
				this.screenGame.height = this.screen.height;
				this.screenGame.width = this.screenGame.height * this.ratio;
			}
		}
	</script>
</body>
</html>

